{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Home{% endblock title %}

{% block content-left %}
  {% url 'posts:popular-posts-hx' as popular_posts_hx_url %}
  {% include "htmx/lazy_load_htmx.html" with  get_url=popular_posts_hx_url %}
{% endblock content-left %}

{% block content %}
  {% if user.is_authenticated %}
    {% include 'posts/post_form.html' %}
  {% endif %}

  {% url 'posts:posts-hx' as posts_hx_url %}
  {% include "htmx/lazy_load_htmx.html" with  get_url=posts_hx_url %}

{% endblock content %}

{% block content-right %}

  {% url 'posts:search-form-hx' as search_form_hx_url %}
  {% include "htmx/lazy_load_htmx.html" with  get_url=search_form_hx_url %}

  {% url 'posts:follow-suggestions-hx' as follow_suggestions_hx_url %}
  {% include "htmx/lazy_load_htmx.html" with  get_url=follow_suggestions_hx_url %}

{% endblock content-right %}

{% block scripts %}
    <script type="module" src={% static 'postsScript.js' %} defer></script>
    {% if user.is_authenticated %}
        <script type="module" src={% static 'postsScriptLoggedIn.js' %} defer></script>
    {% endif %}
{% endblock scripts %}